<div id="searchBar-placeholder"></div>
<ul id="dataList-placeholder"></ul>

<script>
    $(document).ready(function(){
        $.get("Shared/listItem.html", function (listItem) {
            loadDataIntoListItem(listItem);
        });
    });

    function loadDataIntoListItem(listItem) {
        //Get Data
        $.getJSON("data/projects.json", function (json) {

            for(var i =0; i<json.projects.length; i++){
                var title = json.projects[i].title;
                var type = json.projects[i].type;
                var description = json.projects[i].description;
                var github = json.projects[i].github;
                var website = json.projects[i].website;

                var keywords = json.projects[i].keywords;
                var keywords_stringbuilder = "";

                for(var j =0; j<keywords.length; j++){
                    keywords_stringbuilder += keywords[j] + ", ";
                }

                //Remove final seperator
                keywords_stringbuilder = keywords_stringbuilder.slice(0, keywords_stringbuilder.length - 2)

                //Add a period
                keywords_stringbuilder += ".";

                $(listItem)
                    .find('.listItem_title')
                        .html(title)
                        .end()
                    .find('.field_type')
                        .html(type)
                        .end()
                    .find('.field_keywords')
                        .html(keywords_stringbuilder)
                        .end()
                    .find('.field_description')
                        .html(description)
                        .end()
                    .find('.field_github')
                        .html(github)
                        .end()
                    .find('.field_website')
                        .html(website)
                        .end()
                    .appendTo($('#dataList-placeholder')); // Add to data list

                console.log("Added listItem: "+ title);
                console.log($(listItem));
            }
        });
    }
</script>