<div id="nav-left">
  <ul>
    <!-- Home -->
    <li>
      <div class="button_img_container">
        <img class="bookmark_img" src="img/bookmark.png" alt="Bookmark">
        <div id="navButton_about" class="navButton navButton_parent col-sm-8">
          Home
        </div>   
      </div>
      <ul>
        <li id="navButton_about_introduction" class="navButton navButton_child">Introduction</li>
        <li id="navButton_about_contact" class="navButton navButton_child">Contact</li>
        <li id="navButton_about_timeline" class="navButton navButton_child">Timeline</li>
      </ul>
    </li>
    <!-- Project -->
    <li>
      <div class="button_img_container">
        <img class="bookmark_img" src="img/bookmark.png" alt="Bookmark">
        <div id="navButton_projects" class="navButton navButton_parent col-sm-8">
          Project
        </div>   
      </div>
      <ul>
        <li id="navButton_projects_search" class="navButton navButton_child">Project search</li>
      </ul>
    </li>
  </ul>
</div>

<script>
  $(document).ready(function(){
    ShowSubMenu();
  });

  function ShowSubMenu(){
    $(".navButton_child").hide();
    var BookmarkIndex = sessionStorage.getItem("BookmarkIndex");

    //if((typeof BookmarkIndex != 'undefined') && (BookmarkIndex != -1)){    
    if(BookmarkIndex != null){

      var currentBookmarkElementId = bookmarks_htmlPages[BookmarkIndex][0];
      
      // Show sub menu
      var ul = $("#"+currentBookmarkElementId).parent().next();
      var subButtons = $(ul).children();
      
      for(var i =0; i<subButtons.length; i++){
        console.log("Showing button " + i);
        $(subButtons[i]).show();
      }
    }
  }

  $(".navButton").on('mouseover', function(){
    $(this).css("background-color", "#5865F2");
  });

  $(".navButton").on('mouseleave', function(){
    $(this).css("background-color", "inherit");
  });

  $(".navButton").on('click', function(){

    //Get clicked element
    var elementId = $(this).attr('id');

    //Loop through bookmark mapping and get the index of the clicked bookmark
    var BookmarkIndex = -1;

    for(var i =0; i<bookmarks_htmlPages.length; i++){
      var currentItem = bookmarks_htmlPages[i][0];
      if (currentItem == elementId){
        BookmarkIndex = i;
      }
    }

    console.log("BookmarkIndex: " + BookmarkIndex);
    if(BookmarkIndex > -1){
      sessionStorage.setItem("BookmarkIndex",BookmarkIndex);
    }

    //Redirect to new URL
    var url = bookmarks_htmlPages[BookmarkIndex][1];
    console.log("URL: "+ url);
    window.location.href = url;
  });
  
  function hideAllNavButtons(){
      $(".navButton_child").hide();
  }

  const bookmarks_htmlPages = [
      ["navButton_about", "index.html"],
      ["navButton_about_Introduction", "index.html"],
      ["navButton_about_Contact", "contact.html"],
      ["navButton_about_Timeline", "timeline.html"],
      ["navButton_projects", "projects.html"],
      ["navButton_projects_search", "projects.html"]
  ]
</script>