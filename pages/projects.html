<div id="searchBar-placeholder"></div>
<ul id="dataList-placeholder"></ul>


<script>
    $(document).ready(function(){
        $.get("Shared/listItem.html", function (listItem) {
            console.log("1. Shared loaded...");
            loadDataIntoListItem(listItem);
            //listItemHtml = data;
            //alert(listItemHtml);
        });
    });

    function loadDataIntoListItem(listItem) {
        console.log("2. loadDataIntoListItem method...");
        //Get Data
        $.getJSON("data/projects.json", function (json) {
            console.log("3. Json loaded...");
            var title = json.projects[0].title;
            var type = json.projects[0].type;
            var description = json.projects[0].description;
            var github = json.projects[0].github;
            var website = json.projects[0].website;

            var keywords = json.projects[0].keywords;
            var keywords_stringbuilder = "";

            for(var i =0; i<keywords.length; i++){
                keywords_stringbuilder += keywords[i] + ", ";
            }

            //Remove final seperator
            keywords_stringbuilder = keywords_stringbuilder.slice(0, keywords_stringbuilder.length - 2)

            //Add a period
            keywords_stringbuilder += ".";

            $(listItem)
                .find('.listItem_title')
                    .html(title)
                    .end()
                .find('.field_type')
                    .html(type)
                    .end()
                .find('.field_keywords')
                    .html(keywords_stringbuilder)
                    .end()
                .find('.field_description')
                    .html(description)
                    .end()
                .find('.field_github')
                    .html(github)
                    .end()
                .find('.field_website')
                    .html(website)
                    .end()
                .appendTo($('#dataList-placeholder'));

            console.log("listItem: ");
            console.log($(listItem));

            //$(listItem).find('.field_description').html(description).end().appendTo($('#dataList-placeholder'));

            // console.log("Json: ");
            // console.log(json);

            

            //Modify listItem
            // var fieldType = $(listItem).find('.field_type');
            // fieldType.html('hellooo');
            // console.log("4. fieldType.html set to hellooo...");
            // console.log("fieldType: ");
            // console.log(fieldType[0]);
            // // fieldType.html(json.projects[0].type);
            // //fieldType.html("hello");
            
            // $(listItem).find('.field_type').html('Duck');
            // console.log("5. fieldType.html set to Duck...");
            // console.log("listItem inner html should display Duck: ");
            // console.log($(listItem).find('.field_type').html());

            

            // var fieldType = $(listItem).find('.field_type')[0];
            // console.log("fieldType: ");
            // console.log(fieldType);

            // console.log($(listItem).find('.field_type').html()); //Output: Cow
            // $(listItem).find('.field_type').html("Duck");            
            // console.log($(listItem).find('.field_type').html()); //Output: Cow (I expected duck)

            // //Add listItem
            // for (var i = 0; i < 6; i++) {
            //     $('#dataList-placeholder').append(listItem);
            // }
        });
    }
</script>